<!-- <ion-header hidden>
  <ion-toolbar>
    <ion-title>login</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content class="ion-padding">

	<h4> <ion-icon [routerLink]="['/disclaimer']" routerDirection="back" name="chevron-back"></ion-icon> </h4>

	<h3>Login</h3>

		<div class="central-block" style="margin-bottom: 10px;">

		<form class="form" [formGroup]="validations_form" (ngSubmit)="loginUser(validations_form.value)">
			
			<ion-list>

				<ion-item class="ion-no-padding">
					<ion-label position="floating">DIRECCIÓN EMAIL</ion-label>
					<ion-input formControlName="email" type="text" ></ion-input>

					<!-- <span slot="end" *ngIf="email.length > 8"> -->
						<!-- <ion-icon name="checkmark"></ion-icon> -->
					<!-- </span> -->
				</ion-item>
					<div class="validation-errors">
				          <ng-container *ngFor="let validation of validation_messages.email">
				            <div class="error-message" *ngIf="validations_form.get('email').hasError(validation.type) && (validations_form.get('email').dirty || validations_form.get('email').touched)">
				              {{ validation.message }}
				            </div>
				          </ng-container>
				        </div>

				<ion-item class="ion-no-padding">
					<ion-label position="floating">PASSWORD</ion-label>
					<ion-input formControlName="password" [type]="show_password_0" ></ion-input>

					<span slot="end">
						
						<ion-icon name="eye" (click)="changeView(0)"></ion-icon>

						<!-- <ion-icon *ngIf="password.length > 4" name="checkmark"></ion-icon> -->
					</span>
				</ion-item>
					<div class="validation-errors">
				          <ng-container *ngFor="let validation of validation_messages.password">
				            <div class="error-message" *ngIf="validations_form.get('password').hasError(validation.type) && (validations_form.get('password').dirty || validations_form.get('password').touched)">
				              {{ validation.message }}
				            </div>
				          </ng-container>
				        </div>

				<!-- <ion-item>
				</ion-item> -->
			</ion-list>
				<!-- <ion-label>
					<ion-checkbox id="local" style="position: relative; top: 3px;" [(ngModel)]="local"></ion-checkbox>

					<label (click)="changeLocal()"> Soy un local (Provisional)</label>
				</ion-label> -->
			<ion-button class="an-button mt-20" type="submit" [disabled]="!validations_form.valid">Siguiente</ion-button>

		</form>

		<div>
			

		<ion-button class="an-button apple" (click)="doAppleLogin()">
			<img src="assets/apple.svg" alt="">
		</ion-button>

		<ion-button class="an-button fb" (click)="doFbLogin()">
			<img src="assets/facebook.svg" alt="">
		</ion-button>

		</div>

		<div style="clear: both;"></div>

		<br>

		<div style="text-align: center;">
			
		<small>¿Necesita una cuenta? <a [routerLink]="['/registro']">Sign up</a></small>
		<small>¿Has perdido la contraseña? <a [routerLink]="['/recover']">Solicitar</a></small>

		<span class="test mt-40">¿Quieres entrar como invitado?</span>

		</div>

		<ion-button style="margin: 20px auto auto; float: none" class="an-button bg2 mt-20" (click)="createFakeUser()">Probar sin registrarse</ion-button>

	</div>

</ion-content>
